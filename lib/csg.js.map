{"version":3,"sources":["lib/csg.max.js"],"names":["CSG","this","polygons","fromPolygons","csg","prototype","clone","map","p","toPolygons","union","a","Node","b","clipTo","invert","build","allPolygons","subtract","intersect","inverse","flip","cube","options","c","Vector","center","r","radius","length","info","Polygon","i","pos","x","y","z","Vertex","sphere","vertices","slices","stacks","vertex","theta","phi","Math","PI","dir","cos","sin","push","plus","times","j","cylinder","s","start","e","end","ray","minus","axisZ","unit","isY","abs","axisX","cross","axisY","negated","point","stack","slice","normalBlend","angle","out","normal","t0","t1","arguments","dividedBy","dot","lerp","t","sqrt","uv","color","interpolate","other","Plane","w","EPSILON","fromPoints","n","splitPolygon","polygon","coplanarFront","coplanarBack","front","back","polygonType","types","type","plane","f","ti","tj","vi","vj","v","shared","reverse","node","temp","clipPolygons","concat","bsp"],"mappings":"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"}